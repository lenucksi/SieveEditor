{
  "master": {
    "tasks": [
      {
        "id": "1",
        "title": "Implement modeless Search & Replace dialog",
        "description": "Make the Search & Replace dialog non-blocking (modeless) OR position it in the top-right corner like VS Code/IntelliJ to enable continuous search & replace during editing.",
        "status": "done",
        "priority": "medium",
        "tags": [
          "ui",
          "dialog",
          "search"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "User can keep dialog open while editing",
          "Dialog doesn't block main editor interaction",
          "Search & replace operations work seamlessly with concurrent editing"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T22:52:18.050Z"
      },
      {
        "id": "2",
        "title": "Improve Find dialog with ESC key and search term persistence",
        "description": "Allow ESC key to close Find dialog and preserve the last search term when dialog is closed with ESC to enable continued search with ENTER.",
        "status": "pending",
        "priority": "medium",
        "tags": [
          "ui",
          "dialog",
          "search"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "ESC key closes Find dialog",
          "Last search term persists after ESC close",
          "ENTER in reopened dialog continues search from last position"
        ],
        "subtasks": []
      },
      {
        "id": "3",
        "title": "Increase editor line number font size",
        "description": "Increase the font size of line numbers in the editor gutter for better readability.",
        "status": "done",
        "priority": "low",
        "tags": [
          "ui",
          "editor"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Line numbers are visibly larger",
          "Line numbers remain aligned with editor lines",
          "No layout issues introduced"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T22:23:05.092Z"
      },
      {
        "id": "4",
        "title": "Add error navigation for script validation",
        "description": "When 'Check Script' reports an error, automatically jump to error line OR provide 'Jump to Error' button in error dialog.",
        "status": "done",
        "priority": "high",
        "tags": [
          "validation",
          "navigation",
          "ux"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "User can navigate to error location with single click",
          "Error line is highlighted or cursor positioned correctly",
          "Works with server-side validation errors"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T18:58:44.694Z"
      },
      {
        "id": "5",
        "title": "Implement quick check feedback with status bar",
        "description": "When Check Script is triggered via hotkey, display a non-intrusive status bar (top or bottom) showing green/red indicator, error details, and click-to-jump functionality.",
        "status": "pending",
        "priority": "medium",
        "tags": [
          "validation",
          "ui",
          "hotkey"
        ],
        "dependencies": [
          "4"
        ],
        "acceptanceCriteria": [
          "Non-intrusive visual feedback",
          "Quick error identification",
          "Jump-to-error functionality"
        ],
        "subtasks": []
      },
      {
        "id": "6",
        "title": "Add pre-save validation with user confirmation",
        "description": "Before saving, trigger automatic 'Check Script', warn user on validation failure, and ask 'Script has errors. Save anyway?'",
        "status": "done",
        "priority": "high",
        "tags": [
          "validation",
          "save",
          "ux"
        ],
        "dependencies": [
          "4"
        ],
        "acceptanceCriteria": [
          "Validation runs before every save",
          "User is warned about errors",
          "User can override and save anyway if needed"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T19:01:16.072Z"
      },
      {
        "id": "7",
        "title": "Implement Sieve script structure navigator",
        "description": "Add IDE-like structured view showing list/tree of Sieve rules as navigable objects, using comment lines above rules as labels, with detection of rule numbering inconsistencies.",
        "status": "done",
        "priority": "high",
        "tags": [
          "ui",
          "navigation",
          "parser"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Sidebar or panel shows all rules",
          "Comment labels used as rule names (format: '# Rule N: Description')",
          "Click to jump to rule in editor",
          "Warnings for numbering issues (duplicates, gaps)"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T19:10:19.715Z"
      },
      {
        "id": "8",
        "title": "Implement connection keep-alive or auto-reconnect",
        "description": "Implement keep-alive mechanism OR auto-reconnect on timeout to prevent 'can't write to pipe' errors during inactivity. Show brief notification if reconnection occurs.",
        "status": "done",
        "priority": "high",
        "tags": [
          "connection",
          "reliability"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "No 'pipe' errors during normal operation",
          "Seamless reconnection if timeout occurs",
          "User notification if reconnection happens"
        ],
        "updatedAt": "2025-12-19T18:43:30.229Z",
        "subtasks": []
      },
      {
        "id": "9",
        "title": "Add comprehensive keyboard shortcuts for Sieve menu",
        "description": "Add keyboard shortcuts for all Sieve menu commands, especially 'Check Script' (suggest: Ctrl+K or Ctrl+Shift+C).",
        "status": "pending",
        "priority": "medium",
        "tags": [
          "ui",
          "hotkey",
          "menu"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "All Sieve menu items have hotkeys",
          "Hotkeys are documented in menu",
          "No conflicts with existing shortcuts"
        ],
        "subtasks": []
      },
      {
        "id": "10",
        "title": "Remove redundant 'Load...' menu item",
        "description": "Remove 'Sieve â†’ Load... (Ctrl+O)' menu item and ensure 'Manage Scripts...' provides the same functionality.",
        "status": "done",
        "priority": "low",
        "tags": [
          "ui",
          "menu",
          "cleanup"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "'Load...' removed from menu",
          "'Manage Scripts...' provides same functionality",
          "No regressions in script loading workflow"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T22:23:05.096Z"
      },
      {
        "id": "11",
        "title": "Move Script Rules navigator to right side",
        "description": "Change split pane layout so navigator panel is on the right side instead of left. Editor should be on left, navigator on right.",
        "status": "done",
        "priority": "high",
        "tags": [
          "ui",
          "navigation",
          "layout",
          "bugfix"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Navigator panel on right side of split pane",
          "Editor on left side",
          "Layout feels natural for navigation panel"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T22:06:00.019Z"
      },
      {
        "id": "12",
        "title": "Scroll editor to show selected rule at top",
        "description": "When clicking a rule in navigator, scroll the editor so the highlighted comment line appears at the top of the visible area, not somewhere in the middle or bottom.",
        "status": "done",
        "priority": "high",
        "tags": [
          "ui",
          "navigation",
          "scroll",
          "bugfix"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Selected rule comment appears at top of editor viewport",
          "Line is highlighted",
          "Scrolling is smooth and predictable"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T22:06:00.020Z"
      },
      {
        "id": "13",
        "title": "Clear navigator on disconnect",
        "description": "When user disconnects (Disconnect action), clear the Script Rules navigator panel. Currently old content remains visible after disconnect.",
        "status": "done",
        "priority": "high",
        "tags": [
          "ui",
          "navigation",
          "bug"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Navigator clears when Disconnect is triggered",
          "No stale rules remain visible",
          "Navigator shows empty state"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T22:06:00.029Z"
      },
      {
        "id": "14",
        "title": "Fix rule parser robustness",
        "description": "Parser only finds some rules but not others. Investigate why certain rules are not detected and make parser more robust. Debug with sample scripts to identify pattern matching issues.",
        "status": "done",
        "priority": "high",
        "tags": [
          "parser",
          "bug",
          "navigation"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "All valid rule comments are detected",
          "Parser handles edge cases (whitespace, formatting variations)",
          "Clear logging/debugging for failed matches"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-22T18:31:42.481Z"
      },
      {
        "id": "15",
        "title": "Make warning panel height resizable and auto-size on load",
        "description": "Warning panel at bottom of navigator should be height-resizable by user. On loading a new file, panel height should automatically adjust to fit the number of warnings (sufficient height for content).",
        "status": "pending",
        "priority": "medium",
        "tags": [
          "ui",
          "navigation",
          "warnings",
          "resizable"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Warning panel height can be resized by dragging",
          "Initial height adapts to number of warnings on file load",
          "Panel doesn't take excessive space when few warnings",
          "Scrolling available when warnings exceed visible area"
        ],
        "subtasks": []
      },
      {
        "id": "16",
        "title": "Auto-size navigator width based on content",
        "description": "After loading a Sieve file, navigator panel width should automatically adjust based on median rule text length. Add ~10px padding beyond required width for optimal display without excessive whitespace.",
        "status": "pending",
        "priority": "medium",
        "tags": [
          "ui",
          "navigation",
          "auto-sizing",
          "layout"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Navigator width calculated from median rule text length",
          "~10px padding added to calculated width",
          "Width updates when new file is loaded",
          "Horizontal scrolling still available if manually resized smaller"
        ],
        "subtasks": []
      },
      {
        "id": "17",
        "title": "Add color-coded severity levels and enhanced duplicate ID navigation to warning panel",
        "description": "Implement color-coded warnings: quality warnings (e.g., 'Missing Unique-ID') in dark orange, errors (e.g., 'duplicate UniqueID') in dark red. For duplicate ID errors, list all occurrences in error message and enable cycling through duplicates with repeated clicks.",
        "status": "done",
        "priority": "high",
        "tags": [
          "ui",
          "navigation",
          "warnings",
          "validation",
          "ux"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Quality warnings displayed in dark orange color",
          "Errors displayed in dark red color",
          "Duplicate ID error message lists all occurrence line numbers",
          "Clicking duplicate error cycles through all occurrences in editor",
          "Clear visual distinction between warning severities"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-19T22:42:38.082Z"
      },
      {
        "id": "18",
        "title": "Fix horizontal scroll mouse button exceptions (buttons 4/5)",
        "description": "Investigate and fix IllegalArgumentException for 'Nonexistent button 4/5' when using horizontal scroll wheel. Mouse with horizontal scroll button throws exceptions instead of scrolling. First determine if this is a JDK bug or application-level fixable issue, then implement fix if possible.",
        "status": "pending",
        "priority": "medium",
        "tags": [
          "bug",
          "ui",
          "mouse",
          "input",
          "investigation"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Research JDK 21 X11 toolkit button 4/5 handling",
          "Determine if fixable at application level or requires JDK patch",
          "If fixable: horizontal scroll works without exceptions",
          "If JDK bug: document workaround or upstream bug report",
          "No more IllegalArgumentException warnings in logs"
        ],
        "technicalNotes": [
          "Error: java.lang.IllegalArgumentException: Nonexistent button 4/5",
          "Occurs in sun.awt.X11.XWindow.handleButtonPressRelease",
          "Buttons 4/5 typically map to horizontal scroll on Linux/X11",
          "May need MouseWheelListener or custom event handling"
        ],
        "subtasks": []
      },
      {
        "id": "19",
        "title": "Fix parser regex to handle OX Flag field with content",
        "description": "Update SieveRuleParser regex to properly parse OX Sieve comment format where Flag field contains values like 'syscategory' or 'vacation'. Current regex assumes empty Flag field. Example: '## Flag: syscategory|UniqueId:1|Rulename: $purchases'",
        "status": "in-progress",
        "priority": "high",
        "tags": [
          "parser",
          "bug",
          "regex",
          "ox-format"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Regex matches Flag field with content (e.g., 'syscategory', 'vacation')",
          "Regex still matches empty Flag field (backward compatibility)",
          "All test cases pass with various Flag values",
          "Parser extracts UniqueId and Rulename correctly regardless of Flag content"
        ],
        "technicalNotes": [
          "OX format: '## Flag: [optional_content]|UniqueId:N|Rulename: Name'",
          "Flag values seen: 'vacation', 'syscategory', '' (empty)",
          "This is OX App Suite proprietary format, not RFC 5228 standard",
          "No official spec found - format inferred from forum examples"
        ],
        "subtasks": [],
        "updatedAt": "2025-12-22T18:33:02.607Z"
      },
      {
        "id": "20",
        "title": "Add auto-regeneration of navigator on comment edit",
        "description": "When user edits rule comments in the editor, automatically reparse the script and regenerate the Script Rules and Warnings panels. Implement debounced document listener to avoid parsing on every keystroke.",
        "status": "pending",
        "priority": "medium",
        "tags": [
          "ui",
          "navigation",
          "editor",
          "auto-update",
          "ux"
        ],
        "dependencies": [
          "19"
        ],
        "acceptanceCriteria": [
          "Document listener attached to RSyntaxTextArea",
          "Parsing debounced (e.g., 500ms delay after last keystroke)",
          "Navigator updates automatically after comment changes",
          "Warnings panel updates with new parse results",
          "No performance degradation on large scripts",
          "Current selection/scroll position preserved when possible"
        ],
        "technicalNotes": [
          "Use DocumentListener on RSyntaxTextArea",
          "Implement debounce with Timer or ScheduledExecutorService",
          "Trigger SieveRuleParser.parseRules() on debounced change",
          "Update RuleNavigatorPanel.updateRules() with new results",
          "Consider preserving selected rule after re-parse"
        ],
        "subtasks": []
      },
      {
        "id": "21",
        "title": "Research and design drag-and-drop rule reordering",
        "description": "Research feasibility of drag-and-drop rule reordering in navigator panel. This requires full Sieve parser to identify rule boundaries and rewrite script while preserving formatting. Document findings and propose implementation approach or alternatives.",
        "status": "pending",
        "priority": "low",
        "tags": [
          "ui",
          "navigation",
          "research",
          "enhancement",
          "complex"
        ],
        "dependencies": [],
        "acceptanceCriteria": [
          "Research JList TransferHandler for drag-and-drop",
          "Analyze requirements for full Sieve parser (beyond comments)",
          "Document complexity of multiline rule detection",
          "Propose implementation approach or recommend deferral",
          "If feasible: create subtasks for implementation phases",
          "If not feasible: document limitations and alternatives"
        ],
        "technicalNotes": [
          "Requires identifying complete rule blocks (not just comments)",
          "Need to preserve formatting, whitespace, nested conditions",
          "Sieve has complex multiline structures (if/elsif/else, nested blocks)",
          "Consider using existing Sieve parser library vs custom implementation",
          "Alternative: manual 'Move Up/Down' buttons instead of drag-and-drop",
          "This is a 'hyperfancy' feature - high effort, nice-to-have benefit"
        ],
        "subtasks": []
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastModified": "2025-12-22T18:33:02.608Z",
      "taskCount": 21,
      "completedCount": 12,
      "tags": [
        "master"
      ]
    }
  }
}
